---
import ButtonWithLogo from "../control/ButtonWithLogo.astro";
import WidgetLayout from "./WidgetLayout.astro";
import { organizationsConfig } from "@/config";

const { organizations } = organizationsConfig;

const COLLAPSED_HEIGHT = "7.5rem";
// Always show all organizations, never collapse
const isCollapsed = false;

interface Props {
	class?: string;
	style?: string;
}
const className = Astro.props.class;
const style = Astro.props.style;
---

<WidgetLayout name="Member of" id="organizations" isCollapsed={isCollapsed} collapsedHeight={COLLAPSED_HEIGHT}
                class={className} style={style}
>
    {organizations.map((org) =>
        <ButtonWithLogo
            url={org.url}
            logo={org.logo}
            label={`Visit ${org.name}`}
            description={org.description}
            admitted={org.admitted !== undefined ? org.admitted : true}
        >
            {org.name}
        </ButtonWithLogo>
    )}
</WidgetLayout>